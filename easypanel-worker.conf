# EasyPanel Simple Configuration
# Service: my-job-scraper-worker (Worker)

[service]
name = "job-scraper-worker"
source_type = "dockerfile"
source_path = "."

[build]
dockerfile = "Dockerfile.worker" 
context = "."

[deploy]
env = [
  "POSTGRES_URL=postgres://aromanon:Afmg2486!@my-job-scraper_my-job-scraper:5432/job-data?sslmode=disable",
  "REDIS_URL=redis://default:Afmg2486!@my-job-scraper_my-job-scraper_redis:6379",
  "WORKER_ENGINE=primary",
  "PYTHONPATH=/app:/app/jobspy",
  "PYTHONUNBUFFERED=1",
  "PYTHONDONTWRITEBYTECODE=1"
]

[volumes]
logs = "/app/logs"

[scaling]
min_instances = 1
max_instances = 3